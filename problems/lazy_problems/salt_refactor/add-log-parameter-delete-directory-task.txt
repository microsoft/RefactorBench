Update the delete_directory function to include a logging option, defaulting to off but enabled in most cases.