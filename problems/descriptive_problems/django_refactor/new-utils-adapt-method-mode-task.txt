Please relocate the `adapt_method_mode` function from the `base.py` file to a new file named `handler_utils.py` and ensure all references to this function within the repository are properly updated to reflect this change. This involves not only moving the function but also adjusting any import statements in the `base.py` and ensuring essential imports like `async_to_sync`, `iscoroutinefunction`, and `sync_to_async` from `asgiref.sync` are present in the `handler_utils.py` file. Additionally, confirm that parameters such as `is_async`, `method`, and optional parameters like `method_is_async`, `debug`, and `name` are correctly maintained in the function definition within the new file.