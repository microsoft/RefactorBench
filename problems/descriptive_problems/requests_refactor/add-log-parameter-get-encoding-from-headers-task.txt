Enhance the function 'get_encoding_from_headers' located in the 'utils.py' file by adding a new boolean parameter named 'log'. Set the default value of the 'log' parameter to False. When this function is called in other files, such as 'adapters.py', ensure that this 'log' parameter is explicitly set to True, except in the test file 'test_utils.py', where the 'log' parameter should be set to False.