In the repository, locate the file named 'text.py' within the 'celery/utils' directory and rename the function 'truncate' to 'truncate_text'. Ensure this updated function name, 'truncate_text', is also modified across all other occurrences throughout the repository. Additionally, verify and amend any related imports and references in '__all__' declarations in the same 'text.py' and in other files such as 'saferepr.py', 'base.py', 'canvas.py', 'manager.py', 'test_text.py', and 'consumer.py' to reflect this change correctly.